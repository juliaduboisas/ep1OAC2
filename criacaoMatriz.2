    .data
array:  .word 1, 2, 3, 4, 5      # Exemplo de array de entrada
w:      .word 3                  # Largura da matriz (colunas)
h:      .word 1                  # Altura da matriz (linhas)
n:      .word 5                  # Tamanho do array de entrada
saida:  .space 400               # Espaço para armazenar a saída (resultados)

    .text
    .globl main

main:
    lw $t2, n        # Carrega o tamanho do array (n) em $t2
    lw $a2, w        # Carrega a largura da matriz (w) em $a2
    lw $t3, h        # Carrega a altura da matriz (h) em $t3
    la $a1, array    # Carrega o endereço do array de entrada em $a1
    la $t6, saida    # Carrega o endereço da área de saída (matriz) em $t6

    li $t1, 0        # Inicializa o contador (iterador)
    li $s1, 0        # Contador para andar pelo array de entrada

    li $t7, 0        # Iterador para a linha da "matriz" (número de elementos por linha)
    li $t8, 0        # Contador para armazenar a posição na matriz

inicializacao:
    li $t5, 0        # Iterador que vai percorrer o array
    j criacao        # Vai para a parte de preenchimento da matriz

criacao:
    beq $s1, $t2, impressao   # Se terminamos de percorrer o array de entrada, vá para impressão
    beq $t7, $a2, reinicia     # Se completamos uma linha da matriz, reinicia o contador de colunas

    # Carrega o valor do array na posição correta
    lw $s3, 0($a1)       # Carrega o próximo valor do array
    sw $s3, 0($t6)       # Armazena na matriz

    # Atualiza os ponteiros
    addi $a1, $a1, 4     # Avança para o próximo valor no array
    addi $t6, $t6, 4     # Avança para o próximo endereço na matriz
    addi $t7, $t7, 1     # Incrementa o número de colunas preenchidas
    addi $s1, $s1, 1     # Incrementa o contador do array

    j criacao

reinicia:
    li $t7, 0            # Reinicia o contador de colunas
    j criacao            # Volta para o loop de criação

impressao:
    li $t1, 0                # Zera o iterador para a impressão

impressao_loop:
    lw $a0, 0($t6)           # Carrega o valor da matriz
    li $v0, 1                # Código da syscall para imprimir inteiro
    syscall                  # Imprime o número

    addi $t1, $t1, 1         # Incrementa o contador de elementos
    addi $t6, $t6, 4         # Avança para o próximo valor da matriz

    # Se todos os elementos foram impressos, finaliza a impressão
    lw $t3, n                # Recarrega o tamanho do array de entrada
    beq $t1, $t3, fim_impressao

    # Imprime uma quebra de linha entre os números
    li $v0, 11               # Código da syscall para imprimir caractere
    li $a0, 10               # Código ASCII de '\n' (nova linha)
    syscall                  # Imprime a quebra de linha
    j impressao_loop         # Continua o loop de impressão

fim_impressao:
    li $v0, 10               # Código da syscall para terminar o programa
    syscall                  # Finaliza o programa
